import{A as M,B as C,s as v,C as w,D as h,m as I,o as O,E as W}from"./index-c4N2JW1k.js";function D(e){return M()?(C(e),!0):!1}const E=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const k=e=>e!=null,u=()=>{};function x(e){return Array.isArray(e)?e:[e]}const B=E?window:void 0;function a(e){var n;const o=w(e);return(n=o==null?void 0:o.$el)!=null?n:o}function G(){const e=h(!1),n=W();return n&&O(()=>{e.value=!0},n),e}function _(e){const n=G();return v(()=>(n.value,!!e()))}function R(e,n,o={}){const{root:m,rootMargin:b="0px",threshold:y=0,window:i=B,immediate:c=!0}=o,l=_(()=>i&&"IntersectionObserver"in i),S=v(()=>{const s=w(e);return x(s).map(a).filter(k)});let r=u;const t=h(c),g=l.value?I(()=>[S.value,a(m),t.value],([s,A])=>{if(r(),!t.value||!s.length)return;const d=new IntersectionObserver(n,{root:a(A),rootMargin:b,threshold:y});s.forEach(p=>p&&d.observe(p)),r=()=>{d.disconnect(),r=u}},{immediate:c,flush:"post"}):u,f=()=>{r(),g(),t.value=!1};return D(f),{isSupported:l,isActive:t,pause(){r(),t.value=!1},resume(){t.value=!0},stop:f}}export{R as u};
