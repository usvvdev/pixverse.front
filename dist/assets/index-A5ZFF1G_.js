import{B as A,C,x as v,D as w,E as h,m as I,o as O,G as W}from"./index-C1fIqRTA.js";function x(e){return A()?(C(e),!0):!1}const D=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const E=e=>e!=null,u=()=>{};function G(e){return Array.isArray(e)?e:[e]}const k=D?window:void 0;function a(e){var n;const o=w(e);return(n=o==null?void 0:o.$el)!=null?n:o}function B(){const e=h(!1),n=W();return n&&O(()=>{e.value=!0},n),e}function _(e){const n=B();return v(()=>(n.value,!!e()))}function R(e,n,o={}){const{root:m,rootMargin:b="0px",threshold:y=0,window:i=k,immediate:c=!0}=o,l=_(()=>i&&"IntersectionObserver"in i),S=v(()=>{const s=w(e);return G(s).map(a).filter(E)});let r=u;const t=h(c),g=l.value?I(()=>[S.value,a(m),t.value],([s,M])=>{if(r(),!t.value||!s.length)return;const d=new IntersectionObserver(n,{root:a(M),rootMargin:b,threshold:y});s.forEach(p=>p&&d.observe(p)),r=()=>{d.disconnect(),r=u}},{immediate:c,flush:"post"}):u,f=()=>{r(),g(),t.value=!1};return x(f),{isSupported:l,isActive:t,pause(){r(),t.value=!1},resume(){t.value=!0},stop:f}}export{R as u};
